

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Format &mdash; QCGWAData v0.1 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="QCGWAData v0.1 documentation" href="../index.html" />
    <link rel="up" title="Module code" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">QCGWAData v0.1 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for Format</h1><div class="highlight"><pre>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">scipy</span>
<span class="kn">import</span> <span class="nn">lxml.etree</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="kn">import</span> <span class="nn">File</span>
<span class="kn">import</span> <span class="nn">Logger</span>
<span class="kn">import</span> <span class="nn">DataContainer</span>

<div class="viewcode-block" id="Format"><a class="viewcode-back" href="../index.html#Format.Format">[docs]</a><span class="k">class</span> <span class="nc">Format</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ExtraInfoFiles</span>      <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ColumnFormat</span>        <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Delimiter</span>           <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Splitter</span>            <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">GWADataFileName</span>     <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">boColumnFormatOK</span>    <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">boFieldFormatOKDict</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">return</span>

<div class="viewcode-block" id="Format.InitboFieldFormatOKDict"><a class="viewcode-back" href="../index.html#Format.Format.InitboFieldFormatOKDict">[docs]</a>    <span class="k">def</span> <span class="nf">InitboFieldFormatOKDict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">boFieldFormatOKDict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.SetboFieldFormatOKDict"><a class="viewcode-back" href="../index.html#Format.Format.SetboFieldFormatOKDict">[docs]</a>    <span class="k">def</span> <span class="nf">SetboFieldFormatOKDict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                               <span class="n">ColumnID</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                               <span class="n">Flag</span><span class="o">=</span><span class="nb">bool</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">boFieldFormatOKDict</span><span class="o">==</span><span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">InitboFieldFormatOKDict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">boFieldFormatOKDict</span><span class="p">[</span><span class="n">ColumnID</span><span class="p">]</span> <span class="o">=</span> <span class="n">Flag</span>
        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.GetboFieldFormatOKDict"><a class="viewcode-back" href="../index.html#Format.Format.GetboFieldFormatOKDict">[docs]</a>    <span class="k">def</span> <span class="nf">GetboFieldFormatOKDict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">boFieldFormatOKDict</span>
</div>
<div class="viewcode-block" id="Format.SetboColumnFormatOK"><a class="viewcode-back" href="../index.html#Format.Format.SetboColumnFormatOK">[docs]</a>    <span class="k">def</span> <span class="nf">SetboColumnFormatOK</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                            <span class="n">Flag</span><span class="o">=</span><span class="nb">bool</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">boColumnFormatOK</span> <span class="o">=</span> <span class="n">Flag</span>
        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.GetboColumnFormatOK"><a class="viewcode-back" href="../index.html#Format.Format.GetboColumnFormatOK">[docs]</a>    <span class="k">def</span> <span class="nf">GetboColumnFormatOK</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">boColumnFormatOK</span>

</div>
<div class="viewcode-block" id="Format.SetGWADataFileName"><a class="viewcode-back" href="../index.html#Format.Format.SetGWADataFileName">[docs]</a>    <span class="k">def</span> <span class="nf">SetGWADataFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                       <span class="n">Name</span><span class="o">=</span><span class="nb">str</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">GWADataFileName</span> <span class="o">=</span> <span class="n">Name</span>
        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.GetGWADataFileName"><a class="viewcode-back" href="../index.html#Format.Format.GetGWADataFileName">[docs]</a>    <span class="k">def</span> <span class="nf">GetGWADataFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">GWADataFileName</span>
</div>
<div class="viewcode-block" id="Format.SetExtraInfoFiles"><a class="viewcode-back" href="../index.html#Format.Format.SetExtraInfoFiles">[docs]</a>    <span class="k">def</span> <span class="nf">SetExtraInfoFiles</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ExtraInfoFiles</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.GetExtraInfoFiles"><a class="viewcode-back" href="../index.html#Format.Format.GetExtraInfoFiles">[docs]</a>    <span class="k">def</span> <span class="nf">GetExtraInfoFiles</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ExtraInfoFiles</span><span class="o">==</span><span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetExtraInfoFiles</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ExtraInfoFiles</span>
</div>
<div class="viewcode-block" id="Format.AppendFilesToExtraInfoFiles"><a class="viewcode-back" href="../index.html#Format.Format.AppendFilesToExtraInfoFiles">[docs]</a>    <span class="k">def</span> <span class="nf">AppendFilesToExtraInfoFiles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                    <span class="n">XmlObj</span><span class="o">=</span><span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">_ElementTree</span><span class="p">,</span>
                                    <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                                    <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">F</span> <span class="ow">in</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;ExtraInfoFiles&#39;</span><span class="p">):</span>
            <span class="k">if</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;boUse&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">)):</span>
                <span class="n">FName</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;Path&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">,</span><span class="n">F</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;Name&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

                <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;  ++ Constructing data structure for </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
                <span class="k">print</span> <span class="n">LogString</span>
                <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

                <span class="n">FFile</span> <span class="o">=</span> <span class="n">File</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">Name</span><span class="o">=</span><span class="n">FName</span><span class="p">,</span>
                                  <span class="n">boHeader</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
                <span class="n">FFile</span><span class="o">.</span><span class="n">SetboUsePigz</span><span class="p">(</span><span class="n">boUsePigz</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
                <span class="n">FFile</span><span class="o">.</span><span class="n">SetFileHandle</span><span class="p">(</span><span class="n">Mode</span><span class="o">=</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">GetExtraInfoFiles</span><span class="p">()</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">FFile</span><span class="p">)</span>

                <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;  -- Done ...&#39;</span>
                <span class="k">print</span> <span class="n">LogString</span>
                <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.ParseGWADataFile"><a class="viewcode-back" href="../index.html#Format.Format.ParseGWADataFile">[docs]</a>    <span class="k">def</span> <span class="nf">ParseGWADataFile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                         <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                         <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                         <span class="n">boRemoveDuplicateLines</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="n">DCsDict</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
        <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;  ++ Parsing </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">GetGWADataFileName</span><span class="p">()</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
        <span class="k">print</span> <span class="n">LogString</span>
        <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
        <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ++ Constructing data structure for </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">GetGWADataFileName</span><span class="p">()</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
        <span class="k">print</span> <span class="n">LogString</span>
        <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="n">FFile</span> <span class="o">=</span> <span class="n">File</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">Name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">GetGWADataFileName</span><span class="p">(),</span>
                          <span class="n">boHeader</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">FFile</span><span class="o">.</span><span class="n">SetboUsePigz</span><span class="p">(</span><span class="n">boUsePigz</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">FFile</span><span class="o">.</span><span class="n">SetFileHandle</span><span class="p">(</span><span class="n">Mode</span><span class="o">=</span><span class="s">&#39;r&#39;</span><span class="p">)</span>

        <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
        <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    -- Done ...&#39;</span>
        <span class="k">print</span> <span class="n">LogString</span>
        <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">if</span><span class="p">(</span><span class="n">boRemoveDuplicateLines</span><span class="p">):</span>
            <span class="n">NLinesInFile</span><span class="p">,</span>\
            <span class="n">NLinesInArray</span>  <span class="o">=</span> <span class="n">FFile</span><span class="o">.</span><span class="n">ParseToLineArray</span><span class="p">()</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ** Removed &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">NLinesInFile</span><span class="o">-</span><span class="n">NLinesInArray</span><span class="p">)</span><span class="o">+</span><span class="s">&#39; duplicate lines!&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">DCsDict</span><span class="p">[</span><span class="s">&#39;GWADataFile&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">FFile</span><span class="o">.</span><span class="n">LineArray2DataContainers</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">DCsDict</span><span class="p">[</span><span class="s">&#39;GWADataFile&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">FFile</span><span class="o">.</span><span class="n">ParseToDataContainers</span><span class="p">()</span>

        <span class="n">FFile</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
        <span class="n">FFile</span><span class="o">.</span><span class="n">Cleanup</span><span class="p">()</span>

        <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
        <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;  -- Done ...&#39;</span>
        <span class="k">print</span> <span class="n">LogString</span>
        <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">DCsDict</span>
</div>
<div class="viewcode-block" id="Format.ParseExtraInfoFiles"><a class="viewcode-back" href="../index.html#Format.Format.ParseExtraInfoFiles">[docs]</a>    <span class="k">def</span> <span class="nf">ParseExtraInfoFiles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                            <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                            <span class="n">boRemoveDuplicateLines</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                            <span class="n">Delimiter</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">DCsDict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">EIFile</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetExtraInfoFiles</span><span class="p">():</span>
            <span class="n">LogString</span> <span class="o">=</span> <span class="s">&#39;    ++ Parsing </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">EIFile</span><span class="o">.</span><span class="n">GetName</span><span class="p">()</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">LogString</span> <span class="o">=</span> <span class="s">&#39;      ++ Constructing data structure for </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">EIFile</span><span class="o">.</span><span class="n">GetName</span><span class="p">()</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">EFile</span> <span class="o">=</span> <span class="n">File</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">Name</span><span class="o">=</span><span class="n">EIFile</span><span class="o">.</span><span class="n">GetName</span><span class="p">(),</span>
                              <span class="n">boHeader</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
            <span class="n">EFile</span><span class="o">.</span><span class="n">SetboUsePigz</span><span class="p">(</span><span class="n">boUsePigz</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
            <span class="n">EFile</span><span class="o">.</span><span class="n">SetFileHandle</span><span class="p">(</span><span class="n">Mode</span><span class="o">=</span><span class="s">&#39;r&#39;</span><span class="p">)</span>

            <span class="n">LogString</span> <span class="o">=</span> <span class="s">&#39;      -- Done ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="k">if</span><span class="p">(</span><span class="n">boRemoveDuplicateLines</span><span class="p">):</span>
                <span class="n">NLinesInFile</span><span class="p">,</span>\
                <span class="n">NLinesInArray</span>  <span class="o">=</span> <span class="n">EIFile</span><span class="o">.</span><span class="n">ParseToLineArray</span><span class="p">()</span>
                <span class="n">LogString</span> <span class="o">=</span> <span class="s">&#39;      ** Removed &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">NLinesInFile</span><span class="o">-</span><span class="n">NLinesInArray</span><span class="p">)</span><span class="o">+</span><span class="s">&#39; duplicate lines!&#39;</span>
                <span class="k">print</span> <span class="n">LogString</span>
                <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
                <span class="n">DCsDict</span><span class="p">[</span><span class="n">EIFile</span><span class="o">.</span><span class="n">GetName</span><span class="p">()]</span> <span class="o">=</span> <span class="n">EIFile</span><span class="o">.</span><span class="n">LineArray2DataContainers</span><span class="p">(</span><span class="n">Delimiter</span><span class="o">=</span><span class="n">Delimiter</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">DCsDict</span><span class="p">[</span><span class="n">EIFile</span><span class="o">.</span><span class="n">GetName</span><span class="p">()]</span> <span class="o">=</span> <span class="n">EIFile</span><span class="o">.</span><span class="n">ParseToDataContainers</span><span class="p">(</span><span class="n">Delimiter</span><span class="o">=</span><span class="n">Delimiter</span><span class="p">)</span>
            <span class="n">EIFile</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
            <span class="n">EIFile</span><span class="o">.</span><span class="n">Cleanup</span><span class="p">()</span>

            <span class="n">LogString</span> <span class="o">=</span> <span class="s">&#39;    -- Done ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">DCsDict</span>
</div>
<div class="viewcode-block" id="Format.SetSplitFunction"><a class="viewcode-back" href="../index.html#Format.Format.SetSplitFunction">[docs]</a>    <span class="k">def</span> <span class="nf">SetSplitFunction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                         <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                         <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">):</span>
        <span class="n">FuncName</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">GetDelimiter</span><span class="p">()</span><span class="o">==</span><span class="s">&#39;WhiteSpace&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Splitter</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="n">FuncName</span>   <span class="o">=</span> <span class="s">&#39;str.split(None)&#39;</span>
        <span class="k">elif</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">GetDelimiter</span><span class="p">()</span><span class="o">==</span><span class="s">&#39;,&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Splitter</span> <span class="o">=</span> <span class="s">&#39;,&#39;</span>
            <span class="n">FuncName</span>   <span class="o">=</span> <span class="s">&#39;str.split(</span><span class="se">\&#39;</span><span class="s">,</span><span class="se">\&#39;</span><span class="s">)&#39;</span>
        <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
        <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;  ++ Set str.split() function according to </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FuncName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
        <span class="k">print</span> <span class="n">LogString</span>
        <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
        <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;  -- Done ...&#39;</span>
        <span class="k">print</span> <span class="n">LogString</span>
        <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.SetDelimiter"><a class="viewcode-back" href="../index.html#Format.Format.SetDelimiter">[docs]</a>    <span class="k">def</span> <span class="nf">SetDelimiter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                     <span class="n">XmlObj</span><span class="o">=</span><span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">_ElementTree</span><span class="p">,</span>
                     <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                     <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Delimiter</span> <span class="o">=</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;Format&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;Delimiter&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Delimiter</span><span class="o">==</span><span class="s">&#39;WhiteSpace&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Delimiter</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
        <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;  ++ Set delimiter to </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Delimiter</span><span class="p">)</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
        <span class="k">print</span> <span class="n">LogString</span>
        <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
        <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;  -- Done ...&#39;</span>
        <span class="k">print</span> <span class="n">LogString</span>
        <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.GetDelimiter"><a class="viewcode-back" href="../index.html#Format.Format.GetDelimiter">[docs]</a>    <span class="k">def</span> <span class="nf">GetDelimiter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Delimiter</span><span class="o">==</span><span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Delimiter</span> <span class="o">=</span> <span class="s">&#39;WhiteSpace&#39;</span> <span class="c"># Set to default</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Delimiter</span>
</div>
<div class="viewcode-block" id="Format.SetColumnFormat"><a class="viewcode-back" href="../index.html#Format.Format.SetColumnFormat">[docs]</a>    <span class="k">def</span> <span class="nf">SetColumnFormat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                        <span class="n">XmlObj</span><span class="o">=</span><span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">_ElementTree</span><span class="p">,</span>
                        <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                        <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ColumnFormat</span> <span class="o">=</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;Format&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;ColumnNames&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
        <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
        <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;  ++ Set column format list to [&#39;</span><span class="o">+</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ColumnFormat</span><span class="p">)</span><span class="o">+</span><span class="s">&#39;] ...&#39;</span>
        <span class="k">print</span> <span class="n">LogString</span>
        <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
        <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;  -- Done ...&#39;</span>
        <span class="k">print</span> <span class="n">LogString</span>
        <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.GetColumnFormat"><a class="viewcode-back" href="../index.html#Format.Format.GetColumnFormat">[docs]</a>    <span class="k">def</span> <span class="nf">GetColumnFormat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ColumnFormat</span>
</div>
<div class="viewcode-block" id="Format.CheckFormat"><a class="viewcode-back" href="../index.html#Format.Format.CheckFormat">[docs]</a>    <span class="k">def</span> <span class="nf">CheckFormat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                    <span class="n">DCsDict</span><span class="o">=</span><span class="p">{},</span>
                    <span class="n">ChecksDict</span><span class="o">=</span><span class="p">{},</span>
                    <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                    <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                    <span class="n">Path</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                    <span class="n">FilePreExtName</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                    <span class="n">FileType</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                    <span class="n">XmlObj</span><span class="o">=</span><span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">_ElementTree</span><span class="p">,</span>
                    <span class="n">Tag</span><span class="o">=</span><span class="nb">str</span><span class="p">):</span>
        <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
        <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;  ++ Checking format of &#39;</span><span class="o">+</span><span class="n">FileType</span><span class="o">+</span><span class="s">&#39; ...&#39;</span>
        <span class="k">print</span> <span class="n">LogString</span>
        <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="n">FName</span>  <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">Path</span><span class="p">,</span><span class="n">FilePreExtName</span><span class="p">)</span>
        <span class="n">FmtLog</span> <span class="o">=</span> <span class="n">Logger</span><span class="o">.</span><span class="n">Logger</span><span class="p">(</span><span class="n">FileName</span><span class="o">=</span><span class="n">FName</span><span class="p">,</span>
                               <span class="n">Extension</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="n">LogString</span>  <span class="o">=</span> <span class="s">&#39;## START TIMESTAMP</span><span class="se">\n</span><span class="s">&#39;</span>
        <span class="n">LogString</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">FmtLog</span><span class="o">.</span><span class="n">GetStartDate</span><span class="p">())</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span>
        <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;## END TIMESTAMP&#39;</span>
        <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">LogString</span> <span class="o">=</span> <span class="n">Log</span><span class="o">.</span><span class="n">GetStartLogString</span><span class="p">()</span>
        <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">Key</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iterkeys</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">Column</span> <span class="ow">in</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">):</span>
                <span class="k">if</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">Column</span><span class="p">)</span><span class="o">!=</span><span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">_Comment</span> <span class="ow">and</span>
                   <span class="nb">eval</span><span class="p">(</span><span class="n">Column</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;boSetColumnName&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">)):</span>
                    <span class="n">Source</span> <span class="o">=</span> <span class="n">Column</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;ColumnName&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
                    <span class="n">Dest</span>   <span class="o">=</span> <span class="n">Column</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;SetColumnName&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
                    <span class="n">ChecksDict</span><span class="p">[</span><span class="n">Key</span><span class="p">]</span><span class="o">.</span><span class="n">SetFormattingOK</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

                    <span class="n">LogString</span>  <span class="o">=</span> <span class="s">&#39;      ++ Renaming column </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">Source</span><span class="o">+</span>\
                                     <span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> to </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">Dest</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
                    <span class="k">print</span> <span class="n">LogString</span>
                    <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
                    <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

                    <span class="n">DCsDict</span><span class="p">[</span><span class="n">Key</span><span class="p">]</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="n">Dest</span><span class="p">]</span> <span class="o">=</span> <span class="n">DCsDict</span><span class="p">[</span><span class="n">Key</span><span class="p">]</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="n">Source</span><span class="p">]</span>
                    <span class="n">DCsDict</span><span class="p">[</span><span class="n">Key</span><span class="p">]</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="n">Dest</span><span class="p">]</span><span class="o">.</span><span class="n">RenameColumnOfDataArray</span><span class="p">(</span><span class="n">Source</span><span class="p">,</span>
                                                                              <span class="n">Dest</span><span class="p">)</span>
                    <span class="k">del</span> <span class="n">DCsDict</span><span class="p">[</span><span class="n">Key</span><span class="p">]</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="n">Source</span><span class="p">]</span>

                    <span class="n">LogString</span>  <span class="o">=</span> <span class="s">&#39;      -- Done ...&#39;</span>
                    <span class="k">print</span> <span class="n">LogString</span>
                    <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
                    <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">ChecksDict</span><span class="p">[</span><span class="n">Key</span><span class="p">]</span><span class="o">.</span><span class="n">SetFormattingOK</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">Key</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iterkeys</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">Column</span> <span class="ow">in</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">):</span>
                <span class="k">if</span><span class="p">((</span><span class="ow">not</span> <span class="n">DCsDict</span><span class="p">[</span><span class="n">Key</span><span class="p">]</span><span class="o">.</span><span class="n">DataContainers</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span><span class="n">Column</span><span class="o">.</span><span class="n">tag</span><span class="p">))</span> <span class="ow">and</span>
                   <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">Column</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span><span class="o">==</span><span class="nb">str</span><span class="p">)):</span>
                    <span class="n">LogString</span>  <span class="o">=</span> <span class="s">&#39;      ++ Creating missing column </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">Column</span><span class="o">.</span><span class="n">tag</span><span class="o">+</span>\
                                 <span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> with same length as column </span><span class="se">\&quot;</span><span class="s">SNPID</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
                    <span class="k">print</span> <span class="n">LogString</span>
                    <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
                    <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

                    <span class="n">DCsDict</span><span class="p">[</span><span class="n">Key</span><span class="p">]</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="n">Column</span><span class="o">.</span><span class="n">tag</span><span class="p">]</span> <span class="o">=</span> <span class="n">DataContainer</span><span class="o">.</span><span class="n">DataContainer</span><span class="p">()</span>
                    <span class="n">DCsDict</span><span class="p">[</span><span class="n">Key</span><span class="p">]</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="n">Column</span><span class="o">.</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">SetDataName</span><span class="p">(</span><span class="n">Column</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
                    <span class="n">DataArray</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">DCsDict</span><span class="p">[</span><span class="n">Key</span><span class="p">]</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;SNPID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())):</span>
                        <span class="n">DataArray</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;NA&#39;</span><span class="p">)</span>
                    <span class="n">DCsDict</span><span class="p">[</span><span class="n">Key</span><span class="p">]</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="n">Column</span><span class="o">.</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">ReplaceDataArray</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">DataArray</span><span class="p">))</span>

                    <span class="n">LogString</span>  <span class="o">=</span> <span class="s">&#39;      -- Done ...&#39;</span>
                    <span class="k">print</span> <span class="n">LogString</span>
                    <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
                    <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">Key</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iterkeys</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">Column</span> <span class="ow">in</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">):</span>
                <span class="k">if</span><span class="p">(</span><span class="n">Column</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;Renames&#39;</span><span class="p">)</span><span class="o">!=</span><span class="bp">None</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">Rename</span> <span class="ow">in</span> <span class="n">Column</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;Renames&#39;</span><span class="p">):</span>
                        <span class="n">Source</span> <span class="o">=</span> <span class="n">Rename</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;Source&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
                        <span class="n">Dest</span>   <span class="o">=</span> <span class="n">Rename</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;Dest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
                        <span class="n">ChecksDict</span><span class="p">[</span><span class="n">Key</span><span class="p">]</span><span class="o">.</span><span class="n">SetFormattingOK</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

                        <span class="n">LogString</span>  <span class="o">=</span> <span class="s">&#39;      ++ Renaming </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">Source</span><span class="o">+</span>\
                                     <span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> fields to </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">Dest</span><span class="o">+</span>\
                                     <span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> for column </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">Column</span><span class="o">.</span><span class="n">tag</span><span class="o">+</span>\
                                     <span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
                        <span class="k">print</span> <span class="n">LogString</span>
                        <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
                        <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

                        <span class="n">DCsDict</span><span class="p">[</span><span class="n">Key</span><span class="p">]</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="n">Column</span><span class="o">.</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">RenameFieldsInDataArray</span><span class="p">(</span><span class="n">Source</span><span class="p">,</span>
                                                                                        <span class="n">Dest</span><span class="p">)</span>

                        <span class="n">LogString</span>  <span class="o">=</span> <span class="s">&#39;      -- Done ...&#39;</span>
                        <span class="k">print</span> <span class="n">LogString</span>
                        <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
                        <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">ChecksDict</span><span class="p">[</span><span class="n">Key</span><span class="p">]</span><span class="o">.</span><span class="n">SetFormattingOK</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">Key</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iterkeys</span><span class="p">():</span>
            <span class="n">SNPIDColumn</span> <span class="o">=</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;SNPID&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">tag</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="s">&#39;      ++ Checking on duplicate SNPIDs ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">DuplicateDict</span> <span class="o">=</span> <span class="n">DCsDict</span><span class="p">[</span><span class="n">Key</span><span class="p">]</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="n">SNPIDColumn</span><span class="p">]</span><span class="o">.</span><span class="n">FindDuplicates</span><span class="p">()</span>

            <span class="n">ChecksDict</span><span class="p">[</span><span class="n">Key</span><span class="p">]</span><span class="o">.</span><span class="n">SetMaxNDuplicateSNPs</span><span class="p">(</span><span class="n">DCsDict</span><span class="p">[</span><span class="n">Key</span><span class="p">]</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="n">SNPIDColumn</span><span class="p">]</span><span class="o">.</span><span class="n">GetMaxNDuplicates</span><span class="p">())</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="s">&#39;        ** The maximum number of duplicate SNPs is &#39;</span><span class="o">+</span>\
                         <span class="nb">str</span><span class="p">(</span><span class="n">DCsDict</span><span class="p">[</span><span class="n">Key</span><span class="p">]</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="n">SNPIDColumn</span><span class="p">]</span><span class="o">.</span><span class="n">GetMaxNDuplicates</span><span class="p">())</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">DuplicateDict</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">):</span>
                <span class="n">LogString</span>  <span class="o">=</span> <span class="s">&#39;        ** Found the following duplicate SNPs:</span><span class="se">\n</span><span class="s">&#39;</span>
                <span class="k">for</span> <span class="n">Key</span><span class="p">,</span> <span class="n">Value</span> <span class="ow">in</span> <span class="n">DuplicateDict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
                    <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;           &#39;</span><span class="o">+</span><span class="n">Key</span><span class="o">+</span><span class="s">&#39; (Occurrence: &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">Value</span><span class="p">)</span><span class="o">+</span><span class="s">&#39;)</span><span class="se">\n</span><span class="s">&#39;</span>
                <span class="k">print</span> <span class="n">LogString</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
                <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">LogString</span>  <span class="o">=</span> <span class="s">&#39;        ** No duplicates found!&#39;</span>
                <span class="k">print</span> <span class="n">LogString</span>
                <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
                <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="s">&#39;      -- Done ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">CheckColumnFormat</span><span class="p">(</span><span class="n">DCsDict</span><span class="o">=</span><span class="n">DCsDict</span><span class="p">,</span>
                               <span class="n">Log</span><span class="o">=</span><span class="n">Log</span><span class="p">,</span>
                               <span class="n">FmtLog</span><span class="o">=</span><span class="n">FmtLog</span><span class="p">,</span>
                               <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">)</span>
        <span class="n">CondList</span> <span class="o">=</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;SNPID&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;MandatoryFieldEntries&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
        <span class="n">CondList</span> <span class="o">=</span> <span class="n">CondList</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CheckSNPIDs</span><span class="p">(</span><span class="n">DCsDict</span><span class="o">=</span><span class="n">DCsDict</span><span class="p">,</span>
                         <span class="n">Log</span><span class="o">=</span><span class="n">Log</span><span class="p">,</span>
                         <span class="n">FmtLog</span><span class="o">=</span><span class="n">FmtLog</span><span class="p">,</span>
                         <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">,</span>
                         <span class="n">ConditionList</span><span class="o">=</span><span class="n">CondList</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;chr&#39;</span><span class="p">)</span><span class="o">!=</span><span class="bp">None</span><span class="p">):</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;chr&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;MandatoryFieldEntries&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">CondList</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CheckChrs</span><span class="p">(</span><span class="n">DCsDict</span><span class="o">=</span><span class="n">DCsDict</span><span class="p">,</span>
                           <span class="n">Log</span><span class="o">=</span><span class="n">Log</span><span class="p">,</span>
                           <span class="n">FmtLog</span><span class="o">=</span><span class="n">FmtLog</span><span class="p">,</span>
                           <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">,</span>
                           <span class="n">ConditionList</span><span class="o">=</span><span class="n">CondList</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;strand_genome&#39;</span><span class="p">)</span><span class="o">!=</span><span class="bp">None</span><span class="p">):</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;strand_genome&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;MandatoryFieldEntries&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">CondList</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CheckStrandGenomes</span><span class="p">(</span><span class="n">DCsDict</span><span class="o">=</span><span class="n">DCsDict</span><span class="p">,</span>
                                    <span class="n">Log</span><span class="o">=</span><span class="n">Log</span><span class="p">,</span>
                                    <span class="n">FmtLog</span><span class="o">=</span><span class="n">FmtLog</span><span class="p">,</span>
                                    <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">,</span>
                                    <span class="n">ConditionList</span><span class="o">=</span><span class="n">CondList</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;imputed&#39;</span><span class="p">)</span><span class="o">!=</span><span class="bp">None</span><span class="p">):</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;imputed&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;MandatoryFieldEntries&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">CondList</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CheckImputeds</span><span class="p">(</span><span class="n">DCsDict</span><span class="o">=</span><span class="n">DCsDict</span><span class="p">,</span>
                               <span class="n">Log</span><span class="o">=</span><span class="n">Log</span><span class="p">,</span>
                               <span class="n">FmtLog</span><span class="o">=</span><span class="n">FmtLog</span><span class="p">,</span>
                               <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">,</span>
                               <span class="n">ConditionList</span><span class="o">=</span><span class="n">CondList</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;used_for_imp&#39;</span><span class="p">)</span><span class="o">!=</span><span class="bp">None</span><span class="p">):</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;used_for_imp&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;MandatoryFieldEntries&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">CondList</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CheckUsedForImps</span><span class="p">(</span><span class="n">DCsDict</span><span class="o">=</span><span class="n">DCsDict</span><span class="p">,</span>
                                  <span class="n">Log</span><span class="o">=</span><span class="n">Log</span><span class="p">,</span>
                                  <span class="n">FmtLog</span><span class="o">=</span><span class="n">FmtLog</span><span class="p">,</span>
                                  <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">,</span>
                                  <span class="n">ConditionList</span><span class="o">=</span><span class="n">CondList</span><span class="p">)</span>

        <span class="k">if</span><span class="p">(</span><span class="n">Tag</span><span class="o">==</span><span class="s">&#39;MtbGWAColumns&#39;</span><span class="p">):</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;position&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;MandatoryFieldEntries&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">CondList</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CheckPositions</span><span class="p">(</span><span class="n">DCsDict</span><span class="o">=</span><span class="n">DCsDict</span><span class="p">,</span>
                                <span class="n">Log</span><span class="o">=</span><span class="n">Log</span><span class="p">,</span>
                                <span class="n">FmtLog</span><span class="o">=</span><span class="n">FmtLog</span><span class="p">,</span>
                                <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">,</span>
                                <span class="n">ConditionList</span><span class="o">=</span><span class="n">CondList</span><span class="p">)</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;coded_all&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;MandatoryFieldEntries&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">CondList</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CheckCodedAlls</span><span class="p">(</span><span class="n">DCsDict</span><span class="o">=</span><span class="n">DCsDict</span><span class="p">,</span>
                                <span class="n">Log</span><span class="o">=</span><span class="n">Log</span><span class="p">,</span>
                                <span class="n">FmtLog</span><span class="o">=</span><span class="n">FmtLog</span><span class="p">,</span>
                                <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">,</span>
                                <span class="n">ConditionList</span><span class="o">=</span><span class="n">CondList</span><span class="p">)</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;noncoded_all&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;MandatoryFieldEntries&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">CondList</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CheckNonCodedAlls</span><span class="p">(</span><span class="n">DCsDict</span><span class="o">=</span><span class="n">DCsDict</span><span class="p">,</span>
                                   <span class="n">Log</span><span class="o">=</span><span class="n">Log</span><span class="p">,</span>
                                   <span class="n">FmtLog</span><span class="o">=</span><span class="n">FmtLog</span><span class="p">,</span>
                                   <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">,</span>
                                   <span class="n">ConditionList</span><span class="o">=</span><span class="n">CondList</span><span class="p">)</span>
            <span class="n">CondList</span>   <span class="o">=</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;beta&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;MandatoryFieldEntries&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="n">CondList</span>   <span class="o">=</span> <span class="n">CondList</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
            <span class="n">Precision</span>  <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;beta&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;NumericFieldPrecision&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="n">APrecision</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;beta&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;AllowedNumericFieldPrecision&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CheckBetas</span><span class="p">(</span><span class="n">DCsDict</span><span class="o">=</span><span class="n">DCsDict</span><span class="p">,</span>
                            <span class="n">Log</span><span class="o">=</span><span class="n">Log</span><span class="p">,</span>
                            <span class="n">FmtLog</span><span class="o">=</span><span class="n">FmtLog</span><span class="p">,</span>
                            <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">,</span>
                            <span class="n">ConditionList</span><span class="o">=</span><span class="n">CondList</span><span class="p">,</span>
                            <span class="n">Precision</span><span class="o">=</span><span class="n">Precision</span><span class="p">,</span>
                            <span class="n">AllowedPrecision</span><span class="o">=</span><span class="n">APrecision</span><span class="p">)</span>
            <span class="n">CondList</span>   <span class="o">=</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;SE&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;MandatoryFieldEntries&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="n">CondList</span>   <span class="o">=</span> <span class="n">CondList</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
            <span class="n">Precision</span>  <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;SE&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;NumericFieldPrecision&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="n">APrecision</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;SE&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;AllowedNumericFieldPrecision&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CheckSEs</span><span class="p">(</span><span class="n">DCsDict</span><span class="o">=</span><span class="n">DCsDict</span><span class="p">,</span>
                          <span class="n">Log</span><span class="o">=</span><span class="n">Log</span><span class="p">,</span>
                          <span class="n">FmtLog</span><span class="o">=</span><span class="n">FmtLog</span><span class="p">,</span>
                          <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">,</span>
                          <span class="n">ConditionList</span><span class="o">=</span><span class="n">CondList</span><span class="p">,</span>
                          <span class="n">Precision</span><span class="o">=</span><span class="n">Precision</span><span class="p">,</span>
                          <span class="n">AllowedPrecision</span><span class="o">=</span><span class="n">APrecision</span><span class="p">)</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;pval&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;MandatoryFieldEntries&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">CondList</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CheckPVals</span><span class="p">(</span><span class="n">DCsDict</span><span class="o">=</span><span class="n">DCsDict</span><span class="p">,</span>
                            <span class="n">Log</span><span class="o">=</span><span class="n">Log</span><span class="p">,</span>
                            <span class="n">FmtLog</span><span class="o">=</span><span class="n">FmtLog</span><span class="p">,</span>
                            <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">,</span>
                            <span class="n">ConditionList</span><span class="o">=</span><span class="n">CondList</span><span class="p">)</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;HWE_pval&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;MandatoryFieldEntries&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">CondList</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CheckHWEPVals</span><span class="p">(</span><span class="n">DCsDict</span><span class="o">=</span><span class="n">DCsDict</span><span class="p">,</span>
                               <span class="n">Log</span><span class="o">=</span><span class="n">Log</span><span class="p">,</span>
                               <span class="n">FmtLog</span><span class="o">=</span><span class="n">FmtLog</span><span class="p">,</span>
                               <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">,</span>
                               <span class="n">ConditionList</span><span class="o">=</span><span class="n">CondList</span><span class="p">)</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;n_total&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;MandatoryFieldEntries&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">CondList</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CheckNTotals</span><span class="p">(</span><span class="n">DCsDict</span><span class="o">=</span><span class="n">DCsDict</span><span class="p">,</span>
                              <span class="n">Log</span><span class="o">=</span><span class="n">Log</span><span class="p">,</span>
                              <span class="n">FmtLog</span><span class="o">=</span><span class="n">FmtLog</span><span class="p">,</span>
                              <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">,</span>
                              <span class="n">ConditionList</span><span class="o">=</span><span class="n">CondList</span><span class="p">)</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;oevar_imp&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;MandatoryFieldEntries&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">CondList</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CheckOeVarImps</span><span class="p">(</span><span class="n">DCsDict</span><span class="o">=</span><span class="n">DCsDict</span><span class="p">,</span>
                                <span class="n">Log</span><span class="o">=</span><span class="n">Log</span><span class="p">,</span>
                                <span class="n">FmtLog</span><span class="o">=</span><span class="n">FmtLog</span><span class="p">,</span>
                                <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">,</span>
                                <span class="n">ConditionList</span><span class="o">=</span><span class="n">CondList</span><span class="p">)</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;AF_coded_all&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;MandatoryFieldEntries&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="n">CondList</span> <span class="o">=</span> <span class="n">CondList</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CheckAfCodedAlls</span><span class="p">(</span><span class="n">DCsDict</span><span class="o">=</span><span class="n">DCsDict</span><span class="p">,</span>
                                  <span class="n">Log</span><span class="o">=</span><span class="n">Log</span><span class="p">,</span>
                                  <span class="n">FmtLog</span><span class="o">=</span><span class="n">FmtLog</span><span class="p">,</span>
                                  <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">,</span>
                                  <span class="n">ConditionList</span><span class="o">=</span><span class="n">CondList</span><span class="p">)</span>

        <span class="n">LogString</span> <span class="o">=</span> <span class="n">FmtLog</span><span class="o">.</span><span class="n">GetEndLogString</span><span class="p">()</span>
        <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">FmtLog</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

        <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
        <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;  -- Done ...&#39;</span>
        <span class="k">print</span> <span class="n">LogString</span>
        <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.CheckAfCodedAlls"><a class="viewcode-back" href="../index.html#Format.Format.CheckAfCodedAlls">[docs]</a>    <span class="k">def</span> <span class="nf">CheckAfCodedAlls</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                         <span class="n">DCsDict</span><span class="o">=</span><span class="p">{},</span>
                         <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                         <span class="n">FmtLog</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                         <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                         <span class="n">ConditionList</span><span class="o">=</span><span class="p">[]):</span>

        <span class="k">for</span> <span class="n">FName</span><span class="p">,</span> <span class="n">DCs</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ++ Checking </span><span class="se">\&quot;</span><span class="s">AF_coded_all</span><span class="se">\&quot;</span><span class="s"> fields format for </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">FilterArray</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">)):</span>
                <span class="k">if</span><span class="p">((</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s">&#39;[&#39;</span><span class="p">)</span> <span class="ow">and</span>
                   <span class="p">(</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s">&#39;]&#39;</span><span class="p">)):</span>
                    <span class="n">RegExp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="n">VMatch</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="nb">bool</span><span class="p">(</span><span class="n">RegExp</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="mi">0</span><span class="p">):</span>
                        <span class="n">FilterArray</span> <span class="o">=</span> <span class="n">VMatch</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;AF_coded_all&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="n">VMatch</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;AF_coded_all&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())</span>
                        <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="mi">0</span><span class="p">):</span>
                        <span class="n">FilterArray</span> <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;AF_coded_all&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;AF_coded_all&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                        <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">AF_coded_all</span><span class="se">\&quot;</span><span class="s"> complies with the ENGAGE analysis plan v3.0!&#39;</span>
            <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">FilterArray</span><span class="p">,</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;AF_coded_all&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()))</span><span class="o">!=</span>
               <span class="nb">len</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;AF_coded_all&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())):</span>
                <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">AF_coded_all</span><span class="se">\&quot;</span><span class="s"> does not comply with the ENGAGE analysis plan v3.0!&#39;</span>
                <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetboFieldFormatOKDict</span><span class="p">(</span><span class="n">ColumnID</span><span class="o">=</span><span class="s">&#39;AF_coded_all&#39;</span><span class="p">,</span>
                                        <span class="n">Flag</span><span class="o">=</span><span class="n">boComplies</span><span class="p">)</span>

            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    -- Done ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.CheckOeVarImps"><a class="viewcode-back" href="../index.html#Format.Format.CheckOeVarImps">[docs]</a>    <span class="k">def</span> <span class="nf">CheckOeVarImps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                       <span class="n">DCsDict</span><span class="o">=</span><span class="p">{},</span>
                       <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                       <span class="n">FmtLog</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                       <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                       <span class="n">ConditionList</span><span class="o">=</span><span class="p">[]):</span>

        <span class="k">for</span> <span class="n">FName</span><span class="p">,</span> <span class="n">DCs</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ++ Checking </span><span class="se">\&quot;</span><span class="s">oevar_imp</span><span class="se">\&quot;</span><span class="s"> fields format for </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">FilterArray</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">)):</span>
                <span class="k">if</span><span class="p">((</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s">&#39;[&#39;</span><span class="p">)</span> <span class="ow">and</span>
                   <span class="p">(</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s">&#39;]&#39;</span><span class="p">)):</span>
                    <span class="n">RegExp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="n">VSearch</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="nb">bool</span><span class="p">(</span><span class="n">RegExp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="mi">0</span><span class="p">):</span>
                        <span class="n">FilterArray</span> <span class="o">=</span> <span class="n">VSearch</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;oevar_imp&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="n">VSearch</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;oevar_imp&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())</span>
                        <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="mi">0</span><span class="p">):</span>
                        <span class="n">FilterArray</span> <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;oevar_imp&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;oevar_imp&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                        <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">oevar_imp</span><span class="se">\&quot;</span><span class="s"> complies with the ENGAGE analysis plan v3.0!&#39;</span>
            <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">FilterArray</span><span class="p">,</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;oevar_imp&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()))</span><span class="o">!=</span>
               <span class="nb">len</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;oevar_imp&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())):</span>
                <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">oevar_imp</span><span class="se">\&quot;</span><span class="s"> does not comply with the ENGAGE analysis plan v3.0!&#39;</span>
                <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetboFieldFormatOKDict</span><span class="p">(</span><span class="n">ColumnID</span><span class="o">=</span><span class="s">&#39;oevar_imp&#39;</span><span class="p">,</span>
                                        <span class="n">Flag</span><span class="o">=</span><span class="n">boComplies</span><span class="p">)</span>

            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    -- Done ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.CheckNTotals"><a class="viewcode-back" href="../index.html#Format.Format.CheckNTotals">[docs]</a>    <span class="k">def</span> <span class="nf">CheckNTotals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                     <span class="n">DCsDict</span><span class="o">=</span><span class="p">{},</span>
                     <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                     <span class="n">FmtLog</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                     <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                     <span class="n">ConditionList</span><span class="o">=</span><span class="p">[]):</span>

        <span class="k">for</span> <span class="n">FName</span><span class="p">,</span> <span class="n">DCs</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ++ Checking </span><span class="se">\&quot;</span><span class="s">n_total</span><span class="se">\&quot;</span><span class="s"> fields format for </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">FilterArray</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">)):</span>
                <span class="k">if</span><span class="p">((</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s">&#39;[&#39;</span><span class="p">)</span> <span class="ow">and</span>
                   <span class="p">(</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s">&#39;]&#39;</span><span class="p">)):</span>
                    <span class="n">RegExp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="n">VMatch</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="nb">bool</span><span class="p">(</span><span class="n">RegExp</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="mi">0</span><span class="p">):</span>
                        <span class="n">FilterArray</span> <span class="o">=</span> <span class="n">VMatch</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;n_total&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="n">VMatch</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;n_total&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())</span>
                        <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="mi">0</span><span class="p">):</span>
                        <span class="n">FilterArray</span> <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;n_total&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;n_total&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                        <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">n_total</span><span class="se">\&quot;</span><span class="s"> complies with the ENGAGE analysis plan v3.0!&#39;</span>
            <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">FilterArray</span><span class="p">,</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;n_total&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()))</span><span class="o">!=</span>
               <span class="nb">len</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;n_total&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())):</span>
                <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">n_total</span><span class="se">\&quot;</span><span class="s"> does not comply with the ENGAGE analysis plan v3.0!&#39;</span>
                <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetboFieldFormatOKDict</span><span class="p">(</span><span class="n">ColumnID</span><span class="o">=</span><span class="s">&#39;n_total&#39;</span><span class="p">,</span>
                                        <span class="n">Flag</span><span class="o">=</span><span class="n">boComplies</span><span class="p">)</span>

            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    -- Done ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.CheckPVals"><a class="viewcode-back" href="../index.html#Format.Format.CheckPVals">[docs]</a>    <span class="k">def</span> <span class="nf">CheckPVals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                   <span class="n">DCsDict</span><span class="o">=</span><span class="p">{},</span>
                   <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                   <span class="n">FmtLog</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                   <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                   <span class="n">ConditionList</span><span class="o">=</span><span class="p">[]):</span>

        <span class="k">for</span> <span class="n">FName</span><span class="p">,</span> <span class="n">DCs</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ++ Checking </span><span class="se">\&quot;</span><span class="s">pval</span><span class="se">\&quot;</span><span class="s"> fields format for </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">FilterArray</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">)):</span>
                <span class="n">RegExp</span>  <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">VSearch</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="nb">bool</span><span class="p">(</span><span class="n">RegExp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
                <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="mi">0</span><span class="p">):</span>
                    <span class="n">FilterArray</span> <span class="o">=</span> <span class="n">VSearch</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;pval&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="n">VSearch</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;pval&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())</span>
                    <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">pval</span><span class="se">\&quot;</span><span class="s"> complies with the ENGAGE analysis plan v3.0!&#39;</span>
            <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">FilterArray</span><span class="p">,</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;pval&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()))</span><span class="o">!=</span>
               <span class="nb">len</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;pval&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())):</span>
                <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">pval</span><span class="se">\&quot;</span><span class="s"> does not comply with the ENGAGE analysis plan v3.0!&#39;</span>
                <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetboFieldFormatOKDict</span><span class="p">(</span><span class="n">ColumnID</span><span class="o">=</span><span class="s">&#39;pval&#39;</span><span class="p">,</span>
                                        <span class="n">Flag</span><span class="o">=</span><span class="n">boComplies</span><span class="p">)</span>

            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    -- Done ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.CheckHWEPVals"><a class="viewcode-back" href="../index.html#Format.Format.CheckHWEPVals">[docs]</a>    <span class="k">def</span> <span class="nf">CheckHWEPVals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                      <span class="n">DCsDict</span><span class="o">=</span><span class="p">{},</span>
                      <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                      <span class="n">FmtLog</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                      <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                      <span class="n">ConditionList</span><span class="o">=</span><span class="p">[]):</span>

        <span class="k">for</span> <span class="n">FName</span><span class="p">,</span> <span class="n">DCs</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ++ Checking </span><span class="se">\&quot;</span><span class="s">HWE_pval</span><span class="se">\&quot;</span><span class="s"> fields format for </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">FilterArray</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">)):</span>
                <span class="n">RegExp</span>  <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">VSearch</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="nb">bool</span><span class="p">(</span><span class="n">RegExp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
                <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="mi">0</span><span class="p">):</span>
                    <span class="n">FilterArray</span> <span class="o">=</span> <span class="n">VSearch</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;HWE_pval&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="n">VSearch</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;HWE_pval&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())</span>
                    <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">HWE_pval</span><span class="se">\&quot;</span><span class="s"> complies with the ENGAGE analysis plan v3.0!&#39;</span>
            <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">FilterArray</span><span class="p">,</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;HWE_pval&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()))</span><span class="o">!=</span>
               <span class="nb">len</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;HWE_pval&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())):</span>
                <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">HWE_pval</span><span class="se">\&quot;</span><span class="s"> does not comply with the ENGAGE analysis plan v3.0!&#39;</span>
                <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetboFieldFormatOKDict</span><span class="p">(</span><span class="n">ColumnID</span><span class="o">=</span><span class="s">&#39;HWE_pval&#39;</span><span class="p">,</span>
                                        <span class="n">Flag</span><span class="o">=</span><span class="n">boComplies</span><span class="p">)</span>

            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    -- Done ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.CheckSEs"><a class="viewcode-back" href="../index.html#Format.Format.CheckSEs">[docs]</a>    <span class="k">def</span> <span class="nf">CheckSEs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">DCsDict</span><span class="o">=</span><span class="p">{},</span>
                 <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                 <span class="n">FmtLog</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                 <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                 <span class="n">ConditionList</span><span class="o">=</span><span class="p">[],</span>
                 <span class="n">Precision</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
                 <span class="n">AllowedPrecision</span><span class="o">=</span><span class="nb">int</span><span class="p">):</span>

        <span class="k">for</span> <span class="n">FName</span><span class="p">,</span> <span class="n">DCs</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ++ Checking </span><span class="se">\&quot;</span><span class="s">SE</span><span class="se">\&quot;</span><span class="s"> fields format for </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">FilterArray</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">)):</span>
                <span class="n">RegExp</span>  <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">VSearch</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="nb">bool</span><span class="p">(</span><span class="n">RegExp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
                <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="mi">0</span><span class="p">):</span>
                    <span class="n">FilterArray</span> <span class="o">=</span> <span class="n">VSearch</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;SE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="n">VSearch</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;SE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())</span>
                    <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>
            <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">boPrecisionOK</span>  <span class="o">=</span> <span class="bp">True</span>
            <span class="n">MinPrecision</span>   <span class="o">=</span> <span class="mi">500</span>
            <span class="k">for</span> <span class="n">Entry</span> <span class="ow">in</span> <span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;SE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">():</span>
                <span class="n">ESplit</span> <span class="o">=</span> <span class="n">Entry</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">ESplit</span> <span class="o">=</span> <span class="n">ESplit</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">ESplit</span> <span class="o">=</span> <span class="n">ESplit</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;E&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ESplit</span><span class="p">)</span><span class="o">&gt;=</span><span class="n">Precision</span><span class="p">):</span>
                    <span class="n">TmpFilterArray</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">TmpFilterArray</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
                    <span class="n">boPrecisionOK</span> <span class="o">=</span> <span class="bp">False</span>
                <span class="n">MinPrecision</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">MinPrecision</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ESplit</span><span class="p">))</span>
            <span class="k">if</span><span class="p">(</span><span class="n">MinPrecision</span><span class="o">&lt;</span><span class="n">AllowedPrecision</span><span class="p">):</span>
                <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">TmpFilterArray</span><span class="p">)</span>
                <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">&amp;</span> <span class="n">TmpFilterArray</span><span class="p">)</span>
            <span class="n">LogString</span> <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="k">if</span><span class="p">(</span><span class="n">boPrecisionOK</span><span class="p">):</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">SE</span><span class="se">\&quot;</span><span class="s"> complies with the precision prerequisite of the ENGAGE analysis plan v3.0!&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">SE</span><span class="se">\&quot;</span><span class="s"> does not comply with the precision prerequisite of the ENGAGE analysis plan v3.0!&#39;</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;        ** Minimal precision is: &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">MinPrecision</span><span class="p">)</span><span class="o">+</span><span class="s">&#39; ...</span><span class="se">\n</span><span class="s">&#39;</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;        ** Precision override value is: &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">AllowedPrecision</span><span class="p">)</span><span class="o">+</span><span class="s">&#39; ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">SE</span><span class="se">\&quot;</span><span class="s"> complies with the ENGAGE analysis plan v3.0!&#39;</span>
            <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">FilterArray</span><span class="p">,</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;SE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()))</span><span class="o">!=</span>
               <span class="nb">len</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;SE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())):</span>
                <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">SE</span><span class="se">\&quot;</span><span class="s"> does not comply with the ENGAGE analysis plan v3.0!&#39;</span>
                <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetboFieldFormatOKDict</span><span class="p">(</span><span class="n">ColumnID</span><span class="o">=</span><span class="s">&#39;SE&#39;</span><span class="p">,</span>
                                        <span class="n">Flag</span><span class="o">=</span><span class="n">boComplies</span><span class="p">)</span>

            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    -- Done ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.CheckBetas"><a class="viewcode-back" href="../index.html#Format.Format.CheckBetas">[docs]</a>    <span class="k">def</span> <span class="nf">CheckBetas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                   <span class="n">DCsDict</span><span class="o">=</span><span class="p">{},</span>
                   <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                   <span class="n">FmtLog</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                   <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                   <span class="n">ConditionList</span><span class="o">=</span><span class="p">[],</span>
                   <span class="n">Precision</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
                   <span class="n">AllowedPrecision</span><span class="o">=</span><span class="nb">int</span><span class="p">):</span>

        <span class="k">for</span> <span class="n">FName</span><span class="p">,</span> <span class="n">DCs</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ++ Checking </span><span class="se">\&quot;</span><span class="s">beta</span><span class="se">\&quot;</span><span class="s"> fields format for </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">FilterArray</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">)):</span>
                <span class="n">RegExp</span>  <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">VSearch</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="nb">bool</span><span class="p">(</span><span class="n">RegExp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
                <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="mi">0</span><span class="p">):</span>
                    <span class="n">FilterArray</span> <span class="o">=</span> <span class="n">VSearch</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;beta&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="n">VSearch</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;beta&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())</span>
                    <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>

            <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">boPrecisionOK</span>  <span class="o">=</span> <span class="bp">True</span>
            <span class="n">MinPrecision</span>   <span class="o">=</span> <span class="mi">500</span>
            <span class="k">for</span> <span class="n">Entry</span> <span class="ow">in</span> <span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;beta&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">():</span>
                <span class="n">ESplit</span> <span class="o">=</span> <span class="n">Entry</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">ESplit</span> <span class="o">=</span> <span class="n">ESplit</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">ESplit</span> <span class="o">=</span> <span class="n">ESplit</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;E&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ESplit</span><span class="p">)</span><span class="o">&gt;=</span><span class="n">Precision</span><span class="p">):</span>
                    <span class="n">TmpFilterArray</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">TmpFilterArray</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
                    <span class="n">boPrecisionOK</span> <span class="o">=</span> <span class="bp">False</span>
                <span class="n">MinPrecision</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">MinPrecision</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ESplit</span><span class="p">))</span>
            <span class="k">if</span><span class="p">(</span><span class="n">MinPrecision</span><span class="o">&lt;</span><span class="n">AllowedPrecision</span><span class="p">):</span>
                <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">TmpFilterArray</span><span class="p">)</span>
                <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">&amp;</span> <span class="n">TmpFilterArray</span><span class="p">)</span>
            <span class="n">LogString</span> <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="k">if</span><span class="p">(</span><span class="n">boPrecisionOK</span><span class="p">):</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">beta</span><span class="se">\&quot;</span><span class="s"> complies with the precision prerequisite of the ENGAGE analysis plan v3.0!&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">beta</span><span class="se">\&quot;</span><span class="s"> does not comply with the precision prerequisite of the ENGAGE analysis plan v3.0!&#39;</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;        ** Minimal precision is: &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">MinPrecision</span><span class="p">)</span><span class="o">+</span><span class="s">&#39; ...</span><span class="se">\n</span><span class="s">&#39;</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;        ** Precision override value is: &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">AllowedPrecision</span><span class="p">)</span><span class="o">+</span><span class="s">&#39; ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">beta</span><span class="se">\&quot;</span><span class="s"> complies with the ENGAGE analysis plan v3.0!&#39;</span>
            <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">FilterArray</span><span class="p">,</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;beta&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()))</span><span class="o">!=</span>
               <span class="nb">len</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;beta&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())):</span>
                <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">beta</span><span class="se">\&quot;</span><span class="s"> does not comply with the ENGAGE analysis plan v3.0!&#39;</span>
                <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetboFieldFormatOKDict</span><span class="p">(</span><span class="n">ColumnID</span><span class="o">=</span><span class="s">&#39;beta&#39;</span><span class="p">,</span>
                                        <span class="n">Flag</span><span class="o">=</span><span class="n">boComplies</span><span class="p">)</span>

            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    -- Done ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.CheckNonCodedAlls"><a class="viewcode-back" href="../index.html#Format.Format.CheckNonCodedAlls">[docs]</a>    <span class="k">def</span> <span class="nf">CheckNonCodedAlls</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                          <span class="n">DCsDict</span><span class="o">=</span><span class="p">{},</span>
                          <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                          <span class="n">FmtLog</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                          <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                          <span class="n">ConditionList</span><span class="o">=</span><span class="p">[]):</span>

        <span class="k">for</span> <span class="n">FName</span><span class="p">,</span> <span class="n">DCs</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ++ Checking </span><span class="se">\&quot;</span><span class="s">noncoded_all</span><span class="se">\&quot;</span><span class="s"> fields format for </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;noncoded_all&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">ConditionList</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">)):</span>
                <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;noncoded_all&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">noncoded_all</span><span class="se">\&quot;</span><span class="s"> complies with the ENGAGE analysis plan v3.0!&#39;</span>
            <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">FilterArray</span><span class="p">,</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;noncoded_all&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()))</span><span class="o">!=</span>
               <span class="nb">len</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;noncoded_all&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())):</span>
                <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">noncoded_all</span><span class="se">\&quot;</span><span class="s"> does not comply with the ENGAGE analysis plan v3.0!&#39;</span>
                <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetboFieldFormatOKDict</span><span class="p">(</span><span class="n">ColumnID</span><span class="o">=</span><span class="s">&#39;noncoded_all&#39;</span><span class="p">,</span>
                                        <span class="n">Flag</span><span class="o">=</span><span class="n">boComplies</span><span class="p">)</span>

            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    -- Done ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.CheckCodedAlls"><a class="viewcode-back" href="../index.html#Format.Format.CheckCodedAlls">[docs]</a>    <span class="k">def</span> <span class="nf">CheckCodedAlls</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                       <span class="n">DCsDict</span><span class="o">=</span><span class="p">{},</span>
                       <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                       <span class="n">FmtLog</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                       <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                       <span class="n">ConditionList</span><span class="o">=</span><span class="p">[]):</span>

        <span class="k">for</span> <span class="n">FName</span><span class="p">,</span> <span class="n">DCs</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ++ Checking </span><span class="se">\&quot;</span><span class="s">coded_all</span><span class="se">\&quot;</span><span class="s"> fields format for </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;coded_all&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">ConditionList</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">)):</span>
                <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;coded_all&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">coded_all</span><span class="se">\&quot;</span><span class="s"> complies with the ENGAGE analysis plan v3.0!&#39;</span>
            <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">FilterArray</span><span class="p">,</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;coded_all&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()))</span><span class="o">!=</span>
               <span class="nb">len</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;coded_all&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())):</span>
                <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">coded_all</span><span class="se">\&quot;</span><span class="s"> does not comply with the ENGAGE analysis plan v3.0!&#39;</span>
                <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetboFieldFormatOKDict</span><span class="p">(</span><span class="n">ColumnID</span><span class="o">=</span><span class="s">&#39;coded_all&#39;</span><span class="p">,</span>
                                        <span class="n">Flag</span><span class="o">=</span><span class="n">boComplies</span><span class="p">)</span>

            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    -- Done ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.CheckPositions"><a class="viewcode-back" href="../index.html#Format.Format.CheckPositions">[docs]</a>    <span class="k">def</span> <span class="nf">CheckPositions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                       <span class="n">DCsDict</span><span class="o">=</span><span class="p">{},</span>
                       <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                       <span class="n">FmtLog</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                       <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                       <span class="n">ConditionList</span><span class="o">=</span><span class="p">[]):</span>

        <span class="k">for</span> <span class="n">FName</span><span class="p">,</span> <span class="n">DCs</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ++ Checking </span><span class="se">\&quot;</span><span class="s">position</span><span class="se">\&quot;</span><span class="s"> fields format for </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">FilterArray</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">)):</span>
                <span class="k">if</span><span class="p">((</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s">&#39;[&#39;</span><span class="p">)</span> <span class="ow">and</span>
                   <span class="p">(</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s">&#39;]&#39;</span><span class="p">)):</span>
                    <span class="n">RegExp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="n">VMatch</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="nb">bool</span><span class="p">(</span><span class="n">RegExp</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="mi">0</span><span class="p">):</span>
                        <span class="n">FilterArray</span> <span class="o">=</span> <span class="n">VMatch</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;position&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="n">VMatch</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;position&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())</span>
                        <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="mi">0</span><span class="p">):</span>
                        <span class="n">FilterArray</span> <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;position&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;position&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                        <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">position</span><span class="se">\&quot;</span><span class="s"> complies with the ENGAGE analysis plan v3.0!&#39;</span>
            <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">FilterArray</span><span class="p">,</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;position&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()))</span><span class="o">!=</span>
               <span class="nb">len</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;position&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())):</span>
                <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">position</span><span class="se">\&quot;</span><span class="s"> does not comply with the ENGAGE analysis plan v3.0!&#39;</span>
                <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetboFieldFormatOKDict</span><span class="p">(</span><span class="n">ColumnID</span><span class="o">=</span><span class="s">&#39;position&#39;</span><span class="p">,</span>
                                        <span class="n">Flag</span><span class="o">=</span><span class="n">boComplies</span><span class="p">)</span>

            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    -- Done ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.CheckUsedForImps"><a class="viewcode-back" href="../index.html#Format.Format.CheckUsedForImps">[docs]</a>    <span class="k">def</span> <span class="nf">CheckUsedForImps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                         <span class="n">DCsDict</span><span class="o">=</span><span class="p">{},</span>
                         <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                         <span class="n">FmtLog</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                         <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                         <span class="n">ConditionList</span><span class="o">=</span><span class="p">[]):</span>
        <span class="k">for</span> <span class="n">FName</span><span class="p">,</span> <span class="n">DCs</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ++ Checking </span><span class="se">\&quot;</span><span class="s">used_for_imp</span><span class="se">\&quot;</span><span class="s"> fields format for </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;used_for_imp&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">ConditionList</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">)):</span>
                <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;used_for_imp&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">used_for_imp</span><span class="se">\&quot;</span><span class="s"> complies with the ENGAGE analysis plan v3.0!&#39;</span>
            <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">FilterArray</span><span class="p">,</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;used_for_imp&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()))</span><span class="o">!=</span>
               <span class="nb">len</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;used_for_imp&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())):</span>
                <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">used_for_imp</span><span class="se">\&quot;</span><span class="s"> does not comply with the ENGAGE analysis plan v3.0!&#39;</span>
                <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetboFieldFormatOKDict</span><span class="p">(</span><span class="n">ColumnID</span><span class="o">=</span><span class="s">&#39;used_for_imp&#39;</span><span class="p">,</span>
                                        <span class="n">Flag</span><span class="o">=</span><span class="n">boComplies</span><span class="p">)</span>

            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    -- Done ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.CheckImputeds"><a class="viewcode-back" href="../index.html#Format.Format.CheckImputeds">[docs]</a>    <span class="k">def</span> <span class="nf">CheckImputeds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                      <span class="n">DCsDict</span><span class="o">=</span><span class="p">{},</span>
                      <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                      <span class="n">FmtLog</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                      <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                      <span class="n">ConditionList</span><span class="o">=</span><span class="p">[]):</span>
        <span class="k">for</span> <span class="n">FName</span><span class="p">,</span> <span class="n">DCs</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ++ Checking </span><span class="se">\&quot;</span><span class="s">imputed</span><span class="se">\&quot;</span><span class="s"> fields format for </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;imputed&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">ConditionList</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">)):</span>
                <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;imputed&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">imputed</span><span class="se">\&quot;</span><span class="s"> complies with the ENGAGE analysis plan v3.0!&#39;</span>
            <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">FilterArray</span><span class="p">,</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;imputed&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()))</span><span class="o">!=</span>
               <span class="nb">len</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;imputed&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())):</span>
                <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">imputed</span><span class="se">\&quot;</span><span class="s"> does not comply with the ENGAGE analysis plan v3.0!&#39;</span>
                <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetboFieldFormatOKDict</span><span class="p">(</span><span class="n">ColumnID</span><span class="o">=</span><span class="s">&#39;imputed&#39;</span><span class="p">,</span>
                                        <span class="n">Flag</span><span class="o">=</span><span class="n">boComplies</span><span class="p">)</span>

            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    -- Done ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.CheckStrandGenomes"><a class="viewcode-back" href="../index.html#Format.Format.CheckStrandGenomes">[docs]</a>    <span class="k">def</span> <span class="nf">CheckStrandGenomes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                           <span class="n">DCsDict</span><span class="o">=</span><span class="p">{},</span>
                           <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                           <span class="n">FmtLog</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                           <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                           <span class="n">ConditionList</span><span class="o">=</span><span class="p">[]):</span>
        <span class="k">for</span> <span class="n">FName</span><span class="p">,</span> <span class="n">DCs</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ++ Checking </span><span class="se">\&quot;</span><span class="s">strand_genome</span><span class="se">\&quot;</span><span class="s"> fields format for </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;strand_genome&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">ConditionList</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">)):</span>
                <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;strand_genome&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">strand_genome</span><span class="se">\&quot;</span><span class="s"> complies with the ENGAGE analysis plan v3.0!&#39;</span>
            <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">FilterArray</span><span class="p">,</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;strand_genome&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()))</span><span class="o">!=</span>
               <span class="nb">len</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;strand_genome&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())):</span>
                <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">strand_genome</span><span class="se">\&quot;</span><span class="s"> does not comply with the ENGAGE analysis plan v3.0!&#39;</span>
                <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetboFieldFormatOKDict</span><span class="p">(</span><span class="n">ColumnID</span><span class="o">=</span><span class="s">&#39;strand_genome&#39;</span><span class="p">,</span>
                                        <span class="n">Flag</span><span class="o">=</span><span class="n">boComplies</span><span class="p">)</span>

            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    -- Done ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.CheckChrs"><a class="viewcode-back" href="../index.html#Format.Format.CheckChrs">[docs]</a>    <span class="k">def</span> <span class="nf">CheckChrs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                  <span class="n">DCsDict</span><span class="o">=</span><span class="p">{},</span>
                  <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                  <span class="n">FmtLog</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                  <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                  <span class="n">ConditionList</span><span class="o">=</span><span class="p">[]):</span>
        <span class="k">for</span> <span class="n">FName</span><span class="p">,</span> <span class="n">DCs</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ++ Checking </span><span class="se">\&quot;</span><span class="s">chr</span><span class="se">\&quot;</span><span class="s"> fields format for </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">FilterArray</span>    <span class="o">=</span> <span class="bp">None</span>
            <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="k">for</span> <span class="n">Condition</span> <span class="ow">in</span> <span class="n">ConditionList</span><span class="p">:</span>
                <span class="k">if</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;RANGE&#39;</span><span class="p">,</span><span class="n">Condition</span><span class="p">)):</span>
                    <span class="n">Start</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">Condition</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;[&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;]&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;-&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
                    <span class="n">End</span>   <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">Condition</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;[&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;]&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;-&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                    <span class="n">Range</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">Start</span><span class="p">,</span><span class="n">End</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
                        <span class="n">Range</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">FilterArray</span><span class="o">==</span><span class="bp">None</span><span class="p">):</span>
                        <span class="n">FilterArray</span> <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;chr&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">Range</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                        <span class="k">for</span> <span class="n">i</span>  <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">Range</span><span class="p">)):</span>
                            <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;chr&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">Range</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">i</span>  <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">Range</span><span class="p">)):</span>
                            <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;chr&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">Range</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">FilterArray</span><span class="o">==</span><span class="bp">None</span><span class="p">):</span>
                        <span class="n">FilterArray</span> <span class="o">=</span> <span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;chr&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">Condition</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">TmpFilterArray</span> <span class="o">=</span> <span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;chr&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()</span><span class="o">==</span><span class="n">Condition</span>
                        <span class="n">FilterArray</span>    <span class="o">=</span> <span class="p">(</span><span class="n">FilterArray</span> <span class="o">|</span> <span class="n">TmpFilterArray</span><span class="p">)</span>

            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">chr</span><span class="se">\&quot;</span><span class="s"> complies with the ENGAGE analysis plan v3.0!&#39;</span>
            <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">FilterArray</span><span class="p">,</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;chr&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">()))</span><span class="o">!=</span>
               <span class="nb">len</span><span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;chr&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">())):</span>
                <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">chr</span><span class="se">\&quot;</span><span class="s"> does not comply with the ENGAGE analysis plan v3.0!&#39;</span>
                <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetboFieldFormatOKDict</span><span class="p">(</span><span class="n">ColumnID</span><span class="o">=</span><span class="s">&#39;chr&#39;</span><span class="p">,</span>
                                        <span class="n">Flag</span><span class="o">=</span><span class="n">boComplies</span><span class="p">)</span>

            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    -- Done ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.CheckSNPIDs"><a class="viewcode-back" href="../index.html#Format.Format.CheckSNPIDs">[docs]</a>    <span class="k">def</span> <span class="nf">CheckSNPIDs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                    <span class="n">DCsDict</span><span class="o">=</span><span class="p">{},</span>
                    <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                    <span class="n">FmtLog</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                    <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                    <span class="n">ConditionList</span><span class="o">=</span><span class="p">[]):</span>
        <span class="k">for</span> <span class="n">FName</span><span class="p">,</span> <span class="n">DCs</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ++ Checking </span><span class="se">\&quot;</span><span class="s">SNPID</span><span class="se">\&quot;</span><span class="s"> fields format for </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">for</span> <span class="n">Entry</span> <span class="ow">in</span> <span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="s">&#39;SNPID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataArray</span><span class="p">():</span>
                <span class="n">boConditionHolds</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">Entry</span><span class="p">))</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">)):</span>
                    <span class="n">boConditionHolds</span> <span class="o">=</span> <span class="p">(</span><span class="n">boConditionHolds</span> <span class="ow">or</span> <span class="nb">bool</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">ConditionList</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">Entry</span><span class="p">)))</span>
                <span class="k">if</span><span class="p">(</span><span class="ow">not</span> <span class="n">boConditionHolds</span><span class="p">):</span>
                    <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** SNPID does not comply with the ENGAGE analysis plan v3.0!&#39;</span>
                    <span class="k">print</span> <span class="n">Entry</span>
                    <span class="n">boComplies</span> <span class="o">=</span> <span class="bp">False</span>
                    <span class="k">break</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">SetboFieldFormatOKDict</span><span class="p">(</span><span class="n">ColumnID</span><span class="o">=</span><span class="s">&#39;SNPID&#39;</span><span class="p">,</span>
                                        <span class="n">Flag</span><span class="o">=</span><span class="n">boComplies</span><span class="p">)</span>
            <span class="k">if</span><span class="p">(</span><span class="n">boComplies</span><span class="p">):</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Array </span><span class="se">\&quot;</span><span class="s">SNPID</span><span class="se">\&quot;</span><span class="s"> complies with the ENGAGE analysis plan v3.0!&#39;</span>

            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    -- Done ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.CheckColumnFormat"><a class="viewcode-back" href="../index.html#Format.Format.CheckColumnFormat">[docs]</a>    <span class="k">def</span> <span class="nf">CheckColumnFormat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                          <span class="n">DCsDict</span><span class="o">=</span><span class="p">{},</span>
                          <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                          <span class="n">FmtLog</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                          <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">FName</span><span class="p">,</span> <span class="n">DCs</span> <span class="ow">in</span> <span class="n">DCsDict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ++ Checking column format for </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">Key</span> <span class="ow">in</span> <span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="o">.</span><span class="n">iterkeys</span><span class="p">():</span>
                <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;      ** Column name </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">Key</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> &#39;</span>
                <span class="k">if</span><span class="p">((</span><span class="n">Key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetColumnFormat</span><span class="p">())</span> <span class="ow">and</span>
                   <span class="p">(</span><span class="n">DCs</span><span class="o">.</span><span class="n">DataContainers</span><span class="p">[</span><span class="n">Key</span><span class="p">]</span><span class="o">.</span><span class="n">GetDataName</span><span class="p">()</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetColumnFormat</span><span class="p">())):</span>
                    <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;complies with the ENGAGE analysis plan v3.0!&#39;</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">SetboColumnFormatOK</span><span class="p">(</span><span class="n">Flag</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;does not comply with the ENGAGE analysis plan v3.0!&#39;</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">SetboColumnFormatOK</span><span class="p">(</span><span class="n">Flag</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
                <span class="k">print</span> <span class="n">LogString</span>
                <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
                <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
            <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    -- Done ...&#39;</span>
            <span class="k">print</span> <span class="n">LogString</span>
            <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="n">FmtLog</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Format.CheckIfFilesExist"><a class="viewcode-back" href="../index.html#Format.Format.CheckIfFilesExist">[docs]</a>    <span class="k">def</span> <span class="nf">CheckIfFilesExist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                          <span class="n">XmlObj</span><span class="o">=</span><span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">_ElementTree</span><span class="p">,</span>
                          <span class="n">Tag</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                          <span class="n">Log</span><span class="o">=</span><span class="n">Logger</span><span class="p">,</span>
                          <span class="n">HeadingSpaces</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">):</span>
        <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
        <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;  ++ Checking if </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">Tag</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> exist(s) and are (is a) regular file(s) ...&#39;</span>
        <span class="k">print</span> <span class="n">LogString</span>
        <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">F</span> <span class="ow">in</span> <span class="n">XmlObj</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Tag</span><span class="p">):</span>
            <span class="k">if</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;boUse&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">)):</span>
                <span class="n">FName</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;Path&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">,</span><span class="n">F</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;Name&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
                <span class="k">if</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">FName</span><span class="p">)):</span>
                    <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                    <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ** Path </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> exists ...&#39;</span>
                    <span class="k">print</span> <span class="n">LogString</span>
                    <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                    <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ** Path </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> does not exist ...</span><span class="se">\n</span><span class="s">&#39;</span>
                    <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;!!! EXITING !!!&#39;</span>
                    <span class="k">print</span> <span class="n">LogString</span>
                    <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
                    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">if</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">FName</span><span class="p">)):</span>
                    <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                    <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ** Path </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> is a regular file ...&#39;</span>
                    <span class="k">print</span> <span class="n">LogString</span>
                    <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
                    <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;    ** Path </span><span class="se">\&quot;</span><span class="s">&#39;</span><span class="o">+</span><span class="n">FName</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&quot;</span><span class="s"> is not a regular file ...</span><span class="se">\n</span><span class="s">&#39;</span>
                    <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;!!! EXITING !!!&#39;</span>
                    <span class="k">print</span> <span class="n">LogString</span>
                    <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
                    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">LogString</span>  <span class="o">=</span> <span class="n">HeadingSpaces</span>
        <span class="n">LogString</span> <span class="o">+=</span> <span class="s">&#39;  -- Done ...&#39;</span>
        <span class="k">print</span> <span class="n">LogString</span>
        <span class="n">Log</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">LogString</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="k">return</span></div></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">QCGWAData v0.1 documentation</a> &raquo;</li>
          <li><a href="index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Ren Pool.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>